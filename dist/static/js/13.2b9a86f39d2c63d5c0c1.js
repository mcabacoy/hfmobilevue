webpackJsonp([13],{"2Fl4":function(n,e,i){var t=i("kxFB");e=n.exports=i("FZ+f")(!0),e.push([n.i,"\n.bindsuccess-modal {\n  width: 100%;\n  height: 100%;\n  display: block;\n  position: fixed;\n  top: 0;\n  z-index: 299;\n  left: 0;\n  background: rgba(43,35,33,0.9);\n}\n.bindsuccess-modal .bindsuccess {\n  background: url("+t(i("2MrE"))+") no-repeat;\n  background-size: 98%;\n  background-position-x: 0.2rem;\n  width: 100%;\n  height: 8rem;\n  position: fixed;\n  top: 1rem !important;\n  z-index: 300;\n}\n.bindsuccess-modal .bindsuccess h1 {\n  padding-left: 0.1rem;\n  text-align: center;\n  width: 2.8rem;\n  margin: 0 auto;\n  margin-top: 2.5rem;\n  color: #e6190a;\n  font-size: 0.75rem;\n  font-weight: 700;\n}\n.bindsuccess-modal .bindsuccess p {\n  color: #ffe400;\n  width: 3.5rem;\n  margin: 0 auto;\n  text-align: center;\n  padding: 0 0.2rem;\n  font-size: 0.3rem;\n  margin-top: 1rem;\n}\n.bindsuccess-modal .bindsuccess .ok {\n  background: #ffba00;\n  background: -webkit-gradient(linear, left top, left bottom, color-stop(50%, #ffba00), to(#ee7000));\n  background: linear-gradient(#ffba00 50%, #ee7000);\n  -webkit-box-shadow: 1px 4px 5px 0px #7c1004;\n          box-shadow: 1px 4px 5px 0px #7c1004;\n  margin: 0 auto;\n  display: block;\n  width: 2.8rem;\n  height: 0.68rem;\n  border-radius: 2rem;\n  margin-top: 1.3rem;\n  color: #c10000;\n  font-size: 0.35rem;\n}\n.error-status {\n  width: 1rem;\n  height: 0.4rem;\n  background: url("+t(i("ct6g"))+") no-repeat;\n  float: right;\n  margin-right: -0.7rem;\n  background-size: 35%;\n}\n.success-status {\n  width: 1rem;\n  height: 0.4rem;\n  background: url("+t(i("5oDO"))+") no-repeat;\n  float: right;\n  background-size: 35%;\n  margin-right: -0.7rem;\n}\nbody {\n  background: #e4dede;\n  margin: 0;\n  padding: 0;\n  display: block;\n}\n.info-bind {\n  margin-top: 1.3rem;\n  width: 100%;\n}\n.info-bind ul.info-bind-container {\n  margin: 5% auto 0;\n  width: 92%;\n  background: #fff;\n  border: 1px solid #f3f3f3;\n  border-radius: 0.1rem;\n}\n.info-bind ul.info-bind-container input {\n  width: 70%;\n  padding-left: 0.2rem;\n  font-size: 0.28rem;\n  color: #3d4245;\n}\n.info-bind ul.info-bind-container li {\n  position: relative;\n  padding: 4% 4%;\n  font-size: 0.28rem;\n  color: #c6c5c5;\n  border-bottom: 1px solid #f3f3f3;\n}\n.info-bind ul.info-bind-container li.info-input {\n  border-bottom: 1px solid #f3f3f3;\n}\n.info-bind ul.info-bind-container li.info-input .success_phone {\n  width: 1rem;\n  height: 0.4rem;\n  background: url("+t(i("5oDO"))+") no-repeat;\n  float: right;\n  background-size: 35%;\n  margin-right: -0.7rem;\n}\n.info-bind ul.info-bind-container li.verification-code {\n  border-bottom: 0;\n}\n.info-bind ul.info-bind-container li.verification-code input {\n  width: 40%;\n  padding-left: 0.2rem;\n  font-size: 0.26rem;\n  color: #3d4245;\n}\n.info-bind ul.info-bind-container li.verification-code a.message {\n  color: #ff6464;\n  border-left: 1px solid #f3f3f3;\n  position: absolute;\n  right: 7%;\n  bottom: 2%;\n  padding: 3.6% 0;\n  padding-left: 7%;\n}\n.info-bind-submit {\n  margin-top: 3%;\n  text-align: center;\n  cursor: not-allowed;\n  line-height: 0.4rem;\n}\n.info-bind-submit a.btn,\n.info-bind-submit a.btn:visited {\n  margin: 4% auto 2%;\n  background: #c61324;\n  color: #fff;\n  text-align: center;\n  display: block;\n  width: 92%;\n  padding: 0.3rem 0;\n  border-radius: 0.08rem;\n  font-size: 0.31rem;\n}","",{version:3,sources:["D:/VueProjects/hfmobilevue/src/components/BankCard/UserInfoBind.vue"],names:[],mappings:";AACA;EACE,YAAY;EACZ,aAAa;EACb,eAAe;EACf,gBAAgB;EAChB,OAAO;EACP,aAAa;EACb,QAAQ;EACR,+BAA+B;CAChC;AACD;EACE,oDAAyD;EACzD,qBAAqB;EACrB,8BAA8B;EAC9B,YAAY;EACZ,aAAa;EACb,gBAAgB;EAChB,qBAAqB;EACrB,aAAa;CACd;AACD;EACE,qBAAqB;EACrB,mBAAmB;EACnB,cAAc;EACd,eAAe;EACf,mBAAmB;EACnB,eAAe;EACf,mBAAmB;EACnB,iBAAiB;CAClB;AACD;EACE,eAAe;EACf,cAAc;EACd,eAAe;EACf,mBAAmB;EACnB,kBAAkB;EAClB,kBAAkB;EAClB,iBAAiB;CAClB;AACD;EACE,oBAAoB;EACpB,mGAAmG;EACnG,kDAAkD;EAClD,4CAA4C;UACpC,oCAAoC;EAC5C,eAAe;EACf,eAAe;EACf,cAAc;EACd,gBAAgB;EAChB,oBAAoB;EACpB,mBAAmB;EACnB,eAAe;EACf,mBAAmB;CACpB;AACD;EACE,YAAY;EACZ,eAAe;EACf,oDAAoE;EACpE,aAAa;EACb,sBAAsB;EACtB,qBAAqB;CACtB;AACD;EACE,YAAY;EACZ,eAAe;EACf,oDAAsE;EACtE,aAAa;EACb,qBAAqB;EACrB,sBAAsB;CACvB;AACD;EACE,oBAAoB;EACpB,UAAU;EACV,WAAW;EACX,eAAe;CAChB;AACD;EACE,mBAAmB;EACnB,YAAY;CACb;AACD;EACE,kBAAkB;EAClB,WAAW;EACX,iBAAiB;EACjB,0BAA0B;EAC1B,sBAAsB;CACvB;AACD;EACE,WAAW;EACX,qBAAqB;EACrB,mBAAmB;EACnB,eAAe;CAChB;AACD;EACE,mBAAmB;EACnB,eAAe;EACf,mBAAmB;EACnB,eAAe;EACf,iCAAiC;CAClC;AACD;EACE,iCAAiC;CAClC;AACD;EACE,YAAY;EACZ,eAAe;EACf,oDAAsE;EACtE,aAAa;EACb,qBAAqB;EACrB,sBAAsB;CACvB;AACD;EACE,iBAAiB;CAClB;AACD;EACE,WAAW;EACX,qBAAqB;EACrB,mBAAmB;EACnB,eAAe;CAChB;AACD;EACE,eAAe;EACf,+BAA+B;EAC/B,mBAAmB;EACnB,UAAU;EACV,WAAW;EACX,gBAAgB;EAChB,iBAAiB;CAClB;AACD;EACE,eAAe;EACf,mBAAmB;EACnB,oBAAoB;EACpB,oBAAoB;CACrB;AACD;;EAEE,mBAAmB;EACnB,oBAAoB;EACpB,YAAY;EACZ,mBAAmB;EACnB,eAAe;EACf,WAAW;EACX,kBAAkB;EAClB,uBAAuB;EACvB,mBAAmB;CACpB",file:"UserInfoBind.vue",sourcesContent:['\n.bindsuccess-modal {\n  width: 100%;\n  height: 100%;\n  display: block;\n  position: fixed;\n  top: 0;\n  z-index: 299;\n  left: 0;\n  background: rgba(43,35,33,0.9);\n}\n.bindsuccess-modal .bindsuccess {\n  background: url("../../../static/img/pop.png") no-repeat;\n  background-size: 98%;\n  background-position-x: 0.2rem;\n  width: 100%;\n  height: 8rem;\n  position: fixed;\n  top: 1rem !important;\n  z-index: 300;\n}\n.bindsuccess-modal .bindsuccess h1 {\n  padding-left: 0.1rem;\n  text-align: center;\n  width: 2.8rem;\n  margin: 0 auto;\n  margin-top: 2.5rem;\n  color: #e6190a;\n  font-size: 0.75rem;\n  font-weight: 700;\n}\n.bindsuccess-modal .bindsuccess p {\n  color: #ffe400;\n  width: 3.5rem;\n  margin: 0 auto;\n  text-align: center;\n  padding: 0 0.2rem;\n  font-size: 0.3rem;\n  margin-top: 1rem;\n}\n.bindsuccess-modal .bindsuccess .ok {\n  background: #ffba00;\n  background: -webkit-gradient(linear, left top, left bottom, color-stop(50%, #ffba00), to(#ee7000));\n  background: linear-gradient(#ffba00 50%, #ee7000);\n  -webkit-box-shadow: 1px 4px 5px 0px #7c1004;\n          box-shadow: 1px 4px 5px 0px #7c1004;\n  margin: 0 auto;\n  display: block;\n  width: 2.8rem;\n  height: 0.68rem;\n  border-radius: 2rem;\n  margin-top: 1.3rem;\n  color: #c10000;\n  font-size: 0.35rem;\n}\n.error-status {\n  width: 1rem;\n  height: 0.4rem;\n  background: url("../../../static/img/error_validate.png") no-repeat;\n  float: right;\n  margin-right: -0.7rem;\n  background-size: 35%;\n}\n.success-status {\n  width: 1rem;\n  height: 0.4rem;\n  background: url("../../../static/img/success_validate.png") no-repeat;\n  float: right;\n  background-size: 35%;\n  margin-right: -0.7rem;\n}\nbody {\n  background: #e4dede;\n  margin: 0;\n  padding: 0;\n  display: block;\n}\n.info-bind {\n  margin-top: 1.3rem;\n  width: 100%;\n}\n.info-bind ul.info-bind-container {\n  margin: 5% auto 0;\n  width: 92%;\n  background: #fff;\n  border: 1px solid #f3f3f3;\n  border-radius: 0.1rem;\n}\n.info-bind ul.info-bind-container input {\n  width: 70%;\n  padding-left: 0.2rem;\n  font-size: 0.28rem;\n  color: #3d4245;\n}\n.info-bind ul.info-bind-container li {\n  position: relative;\n  padding: 4% 4%;\n  font-size: 0.28rem;\n  color: #c6c5c5;\n  border-bottom: 1px solid #f3f3f3;\n}\n.info-bind ul.info-bind-container li.info-input {\n  border-bottom: 1px solid #f3f3f3;\n}\n.info-bind ul.info-bind-container li.info-input .success_phone {\n  width: 1rem;\n  height: 0.4rem;\n  background: url("../../../static/img/success_validate.png") no-repeat;\n  float: right;\n  background-size: 35%;\n  margin-right: -0.7rem;\n}\n.info-bind ul.info-bind-container li.verification-code {\n  border-bottom: 0;\n}\n.info-bind ul.info-bind-container li.verification-code input {\n  width: 40%;\n  padding-left: 0.2rem;\n  font-size: 0.26rem;\n  color: #3d4245;\n}\n.info-bind ul.info-bind-container li.verification-code a.message {\n  color: #ff6464;\n  border-left: 1px solid #f3f3f3;\n  position: absolute;\n  right: 7%;\n  bottom: 2%;\n  padding: 3.6% 0;\n  padding-left: 7%;\n}\n.info-bind-submit {\n  margin-top: 3%;\n  text-align: center;\n  cursor: not-allowed;\n  line-height: 0.4rem;\n}\n.info-bind-submit a.btn,\n.info-bind-submit a.btn:visited {\n  margin: 4% auto 2%;\n  background: #c61324;\n  color: #fff;\n  text-align: center;\n  display: block;\n  width: 92%;\n  padding: 0.3rem 0;\n  border-radius: 0.08rem;\n  font-size: 0.31rem;\n}'],sourceRoot:""}])},"2MrE":function(n,e,i){n.exports=i.p+"static/img/pop.4364b80.png"},"5oDO":function(n,e){n.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyFpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDE0IDc5LjE1MTQ4MSwgMjAxMy8wMy8xMy0xMjowOToxNSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo3MTlDRUFERUVDMTYxMUU1QUUzNkIxMDlFOTUyM0ZGMSIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo3MTlDRUFERkVDMTYxMUU1QUUzNkIxMDlFOTUyM0ZGMSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjcxOUNFQURDRUMxNjExRTVBRTM2QjEwOUU5NTIzRkYxIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjcxOUNFQURERUMxNjExRTVBRTM2QjEwOUU5NTIzRkYxIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+VG5X1AAAAelJREFUeNpi/P//PwMSYHrz7Vn4qWe7Ix+8v2bx/MsDUZCgJI/CawVBrRNmUq7LRbikVgKF/sE0MCIZoHT00ZZVu+8tN/797xcDNsDKxMbgqhR51lrOJwzIvQc34O+/P0pLLncev/X2ghgDEUBN2OBVjG65JTMTyz0mkLN33F28kljNIABSu/PeUpBXmJhefnkUceLJDhNCmoC2MbgpRzMIcIiA+ccfbzN59fVJBLNDol7Xo4+3VAhpjtYtZTCWdGTQEjFjOPF0B8O///8YWJhZuZmAzkGxXZhTAkMz0L8M6sJGYP7pZ7vBmkHg9tsL+kzvf7wSgSm2lfNjKLKczGAvHwAPdZBmYKCB+TvuLGY4+HAD3PBPP9+JsSDbZirtCqZBfmVhYmeQ41djUBHSA4ttu7OQARjNKK4DuYRJgF3kDUxg3vlGhg8/IFwnxRC45q2352NoBgFggL5iUhU2OAMTAGmefa4WbggIbL41l+HY421YAxdowUUmYPJczMTIxIDNkE03ZzMAoxirZpAeE0nnxaCUyAS05SQxaQEZWMl6nfFWTTQHWf3PSyU+ApQ8idUMUuuhHBsB0oucmZSBAbWSyMwUDuTeRc+NKNn53rsrxsDsLA7Nzq+UhHTOAMNrBTA7r0DOzgABBgDu69hpwavojAAAAABJRU5ErkJggg=="},XLXn:function(n,e,i){var t=i("2Fl4");"string"==typeof t&&(t=[[n.i,t,""]]),t.locals&&(n.exports=t.locals);i("rjj0")("a4939e3a",t,!0,{})},ct6g:function(n,e){n.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyFpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDE0IDc5LjE1MTQ4MSwgMjAxMy8wMy8xMy0xMjowOToxNSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo2NjVFREIwQkVDMTYxMUU1QTA5RkVEMDVCNkFGNDcxQyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo2NjVFREIwQ0VDMTYxMUU1QTA5RkVEMDVCNkFGNDcxQyI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjY2NUVEQjA5RUMxNjExRTVBMDlGRUQwNUI2QUY0NzFDIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjY2NUVEQjBBRUMxNjExRTVBMDlGRUQwNUI2QUY0NzFDIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+pCMHdAAAAThJREFUeNpi/P//PwMc/PvH9HPnzvBf27ZF/rl0yeLf+/eiIGEmQcHXLHp6J9i8vJazu7uvZGBi+gfTwggz4O+TJ0pfSkpW/bl2zZgBD2DR0jrL09MTxiwjcw9uAEjzp5iY4//evRNjIAIwCQm94luyxBJkCOP/v3+ZPkZHn/xz9aoJAwmARVv7DP/SpeZMP3fsiMClWfjSJTDGBkB6QHqZfm7eHMtAJgDpZSLV6cjg761b+kz/P3wQIdeAf2/fijExUAiYGAUE3pCtWVj4FRMoOnApeKunB8a4ALOa2kUmdl/fxbgU4ItGEADpZWL38FiBzxX4EhJILyQpP36s/Ck29hhJSXnxYitmWdm74FgAMUACoIxC0GagGphmlNyIkZ2BuRIYz+Kw0AZqPMPm6bkC5Gzk7AwQYAAy/J0Pz6KPsgAAAABJRU5ErkJggg=="},fMQA:function(n,e,i){"use strict";function t(n){i("XLXn")}Object.defineProperty(e,"__esModule",{value:!0});var o=i("mvHQ"),a=i.n(o),s=i("Dd8w"),A=i.n(s),r=i("NYxO"),c=i("gyMJ"),d=i("acAf"),l=i("1nuA"),u={name:"signin",data:function(){return{AccountDetails:"",email:"",phone:"",notifmessage:"",passCode:"",showModalType:!1,display:!1,bindAmount:0,verificationNote:"获取验证码",enabledSmsRequest:!0,bindtype:this.$route.params.bindtype,isValid:"",isPristine:!0}},components:{Notification:d.a},computed:A()({},Object(r.b)({currentUser:"currentUser"})),methods:A()({},Object(r.c)(["setCurrentPage"]),{closeNotif:function(){this.notifmessage=""},closeBindSuccessModal:function(){this.display=!1,this.showModalType=!1},sendMobileCode:function(){var n=this,e=119;if(n.enabledSmsRequest){n.enabledSmsRequest=!1;var i=function(i){0==e?(clearInterval(t),n.verificationNote="重新发送",e=119,n.enabledSmsRequest=!0):(n.verificationNote=+e+"秒再获取",e--)},t=setInterval(function(){i()},1e3),o={headers:{Authorization:"Bearer "+this.currentUser.tokenKey,"Content-Type":"application/json; charset=utf-8",Cache:!1,Async:!0}};this.$http.get(c.x,o).then(function(e){var i={mobile:"email"==n.bindtype?n.AccountDetails.Email:n.AccountDetails.Mobile,mode:"email"==n.bindtype?1:0,verificationCode:e.data};n.$http.get(c.H,{params:i},o).then(function(e){"email"==n.bindtype&&(n.notifmessage="验证码发送成功")}).catch(function(e){n.verificationNote="获取验证码",n.notifmessage="发送手机验证码服务正在维护中..."})}).catch(function(){n.notifmessage="发送手机验证码服务正在维护中..."})}},updateUserInfo:function(){var n=this;switch(this.bindtype){case"email":n.verifyPasscode(n.bindUserEmail);break;case"phone":n.verifyPasscode(n.bindUserPhone);break;default:n.bindGeneralInfo()}},getAge:function(n){var e=new Date,i=e.getFullYear()-n.getFullYear(),t=e.getMonth()-n.getMonth();return(t<0||0===t&&e.getDate()<n.getDate())&&i--,i},verifyPasscode:function(n){var e=this,i={headers:{Authorization:"Bearer "+this.currentUser.tokenKey,"Content-Type":"application/json; charset=utf-8"}},t={mobile:e.AccountDetails.Mobile,passCode:e.passCode,mode:"email"==e.bindtype?1:0};this.$http.get(c.O,{params:t},i).then(function(e){n(e.data)}).catch(function(n){})},bindGeneralInfo:function(){var n=this;if(null==n.AccountDetails.BirthDate||""==n.AccountDetails.BirthDate)return void(n.notifmessage="请输入出生日期");var e=n.AccountDetails.BirthDate.split("-"),i=new Date(e[0],e[1]-parseInt(1),e[2]);if(n.getAge(i)<18)return void showmes("您输入的出生日期还未成年，请确认！");if(null==n.AccountDetails.Email||""==n.AccountDetails.Email)return void(n.notifmessage="请输入邮箱地址");if(!/^([0-9A-Za-z\-_\.]+)@([0-9a-z]+\.[a-z]{2,3}(\.[a-z]{2})?)$/g.test(n.AccountDetails.Email))return void(n.notifmessage="请输入正确的邮箱地址");if(null==n.AccountDetails.QQ||""==n.AccountDetails.QQ)return void(n.notifmessage="请输入您的QQ号");var t={Sex:"男"==n.AccountDetails.Sex,BirthDate:n.AccountDetails.BirthDate,Email:n.AccountDetails.Email,QQ:n.AccountDetails.QQ,Wechat:n.AccountDetails.WeChat},o={headers:{Authorization:"Bearer "+this.currentUser.tokenKey,"Content-Type":"application/json; charset=utf-8"}};n.$http.post(c.b,a()(t),o).then(function(e){n.$route.push({path:"../BankCard"})}).catch(function(n){})},bindUserPhone:function(){var n={headers:{Authorization:"Bearer "+this.currentUser.tokenKey,"Content-Type":"application/json; charset=utf-8",Async:!1}};this.$http.get(c.d+"?mobile="+this.AccountDetails.Mobile,n).then(function(n){this.requestAccountInfo(this.currentUser.tokenKey)})},bindUserEmail:function(n){var e=this,i={headers:{Authorization:"Bearer "+this.currentUser.tokenKey,"Content-Type":"application/json; charset=utf-8",Async:!1}};this.$http.get(c.c+"?email="+this.AccountDetails.Email,i).then(function(n){"true"==n.data&&(e.notifmessage="邮箱绑定成功",e.showSuccessBind())})},showSuccessBind:function(){var n=this,e={headers:{Authorization:"Bearer "+this.currentUser.tokenKey}};this.$http.get(c.o,e).then(function(e){e.data.amount>0&&(n.showModalType=!1),n.requestAccountInfo()}).catch(function(){})},setAccountDetails:function(){this.AccountDetails=this.currentUser.userInfo},requestAccountInfo:function(n){var e=this,i={headers:{Authorization:"Bearer "+n}};this.$http.get(c.M,i).then(function(n){e.storeUserInfoSession(l.stringify(n.data.Value)),e.setAccountDetails()}).catch(function(n){})},populateUserInfo:function(){null!=this.currentUser.userInfo&&this.currentUser.userInfo.AccountName?this.setAccountDetails():this.requestAccountInfo(this.currentUser.tokenKey)},phoneValidator:function(){this.isPristine=!1;var n=this,e=this.AccountDetails.Mobile;if(null==e||""==e)n.isValid="error";else{if(/^0?(13[0-9]|15[0-9]|17[0-9]|18[0-9]|14[57])[0-9]{8}$/.test(e)){this.enabledSmsRequest=!0,n.isValid=!0;var i={headers:{Authorization:"Bearer "+this.currentUser.tokenKey,"Content-Type":"application/json; charset=utf-8","Data-Type":"json"}};this.$http.get(c.h+"?mobile="+e,i).then(function(e){if(!e.data)return n.notifmessage="该手机号已被绑定",n.isValid=!1,!1;n.isValid=!0}).catch(function(n){})}else n.isValid="error"}},emailValidator:function(){this.isPristine=!1;var n=this,e=this.AccountDetails.Email;if(null==e||""==e)n.isValid="error";else{if(/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)){this.enabledSmsRequest=!0,n.isValid=!0;var i={headers:{Authorization:"Bearer "+this.currentUser.tokenKey,"Content-Type":"application/json; charset=utf-8"}};this.$http.get(c.g+"?email="+e,i).then(function(e){if(!e.data)return n.notifmessage="该邮箱号已被绑定",n.isValid=!1,n.enabledSmsRequest=!1,!1;n.isValid=!0,n.enabledSmsRequest=!0}).catch(function(n){})}else n.isValid="error"}}}),created:function(){this.populateUserInfo(),this.setCurrentPage("UserInfoBind")}},m=function(){var n=this,e=n.$createElement,i=n._self._c||e;return i("div",{staticClass:"info-bind"},[i("ul",{staticClass:"info-bind-container"},["email"!=n.bindtype&&"phone"!=n.bindtype?i("li",[i("span",[n._v("出生日期")]),n._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:n.AccountDetails.BirthDate,expression:"AccountDetails.BirthDate"}],attrs:{type:"date","data-bind":"value:BirthDate",placeholder:"请输入出生日期"},domProps:{value:n.AccountDetails.BirthDate},on:{input:function(e){e.target.composing||n.$set(n.AccountDetails,"BirthDate",e.target.value)}}})]):n._e(),n._v(" "),"email"!=n.bindtype&&"phone"!=n.bindtype?i("li",[i("span",[n._v("QQ")]),n._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:n.AccountDetails.QQ,expression:"AccountDetails.QQ"}],attrs:{type:"tel",placeholder:"请输入要绑定的QQ"},domProps:{value:n.AccountDetails.QQ},on:{input:function(e){e.target.composing||n.$set(n.AccountDetails,"QQ",e.target.value)}}})]):n._e(),n._v(" "),"email"!=n.bindtype&&"phone"!=n.bindtype?i("li",[i("span",[n._v("微信")]),n._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:n.AccountDetails.Wechat,expression:"AccountDetails.Wechat"}],attrs:{type:"text",id:"wechat","data-bind":"value:WeChat",placeholder:"请输入要绑定的微信"},domProps:{value:n.AccountDetails.Wechat},on:{input:function(e){e.target.composing||n.$set(n.AccountDetails,"Wechat",e.target.value)}}})]):i("li",{staticClass:"info-input"},["phone"==n.bindtype?i("input",{directives:[{name:"model",rawName:"v-model",value:n.AccountDetails.Mobile,expression:"AccountDetails.Mobile"}],attrs:{type:"tel",placeholder:"建议使用常用手机",maxlength:"11",id:"phone"},domProps:{value:n.AccountDetails.Mobile},on:{blur:function(e){n.phoneValidator()},input:function(e){e.target.composing||n.$set(n.AccountDetails,"Mobile",e.target.value)}}}):"email"==n.bindtype?i("input",{directives:[{name:"model",rawName:"v-model",value:n.AccountDetails.Email,expression:"AccountDetails.Email"}],attrs:{type:"tel",placeholder:"请输入邮箱",id:"mailbox"},domProps:{value:n.AccountDetails.Email},on:{blur:function(e){n.emailValidator()},input:function(e){e.target.composing||n.$set(n.AccountDetails,"Email",e.target.value)}}}):n._e(),n._v(" "),i("div",{class:["success"==n.isValid?"success-status":"error"==n.isValid?"error-status":""]})]),n._v(" "),"email"==n.bindtype||"phone"==n.bindtype?i("li",{staticClass:"list verification-code"},[i("input",{directives:[{name:"model",rawName:"v-model",value:n.passCode,expression:"passCode"}],attrs:{type:"tel",placeholder:"请输入验证码",maxlength:"6"},domProps:{value:n.passCode},on:{input:function(e){e.target.composing||(n.passCode=e.target.value)}}}),n._v(" "),i("a",{staticClass:"message",on:{click:n.sendMobileCode}},[n._v(n._s(n.verificationNote))])]):n._e()]),n._v(" "),i("div",{staticClass:"info-bind-submit"},[i("a",{staticClass:"btn",staticStyle:{cursor:"not-allowed"},on:{click:n.updateUserInfo}},[n._v("完成验证")])]),n._v(" "),n.showModalType?i("div",{staticClass:"bindsuccess-modal"},[i("transition",{attrs:{name:"modaltrans"}},["bindsuccess"==n.showModalType&&n.display?i("div",{staticClass:"bindsuccess"},[i("h1",[n._v(n._s(n.bindAmount)),i("span",[n._v("元")])]),n._v(" "),i("p",[n._v("恭喜您获得鸿富新人礼金 已转入到中心钱包")]),n._v(" "),i("span",{staticClass:"ok",on:{click:n.closeBindSuccessModal}},[n._v("确  定")])]):n._e()])],1):n._e(),n._v(" "),""!=n.notifmessage?i("notification",{attrs:{message:n.notifmessage},on:{close:n.closeNotif}}):n._e()],1)},p=[],f={render:m,staticRenderFns:p},b=f,h=i("VU/8"),g=t,B=h(u,b,!1,g,null,null);e.default=B.exports}});
//# sourceMappingURL=13.2b9a86f39d2c63d5c0c1.js.map